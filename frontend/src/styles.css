:root { --bg:#f7f8fc; --card:#fff; --muted:#5c6b88; --fg:#1c2640; --acc:#6c5ce7; --line:#e7eaf3; }
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font:14px/1.45 Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial}

.container{max-width:1200px;margin:0 auto;padding:20px}
h1{margin:0 0 6px 0}
.sub{color:var(--muted);margin:0 0 20px 0}

.header{display:flex;align-items:center;gap:12px}
.header a{color:#6b7bd3;text-decoration:none}

.topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.select{padding:8px 10px;border:1px solid var(--line);border-radius:10px;background:#fff}
.controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap}

.grid{display:grid;grid-template-columns: 1fr auto; gap:16px}
.cards{display:grid;grid-template-columns: 1fr 1fr; gap:16px; align-items:start}

.card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:14px;box-shadow:0 6px 24px rgba(0,0,0,0.06)}
.card h3{margin:0 0 10px 0;color:#3d4b6e}

.panel{position:relative;border:1px dashed #cfd6ea;border-radius:12px;padding:6px;display:flex;justify-content:center;align-items:center;min-height:220px;background:#fbfcff}
.panel.dragover .drop-hint{display:block}
.drop-hint{position:absolute;inset:8px;border:2px dashed #b4c1ee;border-radius:12px;display:none}

.canvas-wrap{position:relative;width:100%;display:flex;justify-content:center;align-items:center}
canvas{display:block;max-width:100%;height:auto;border-radius:10px}

.btn{background:var(--acc);color:#fff;border:0;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer}
.btn:disabled{opacity:.5;cursor:not-allowed}
.small{color:var(--muted);font-size:12px}

.slider-col{grid-row:1 / span 2; display:flex; align-items:center}
.slider-rail{display:flex;align-items:center;justify-content:center;height:100%;padding:12px}
.slider-v{writing-mode: bt-lr; -webkit-appearance: slider-vertical; width:18px; height:420px}

.badge{background:#eef2ff;color:#3d4b6e;padding:4px 8px;border-radius:999px;border:1px solid #dfe5ff}
/* in styles.css */
.topbar .legend .badge { margin-left: 6px; }
.legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}

.gallery{margin-top:14px}
.gallery h4{margin:0 0 8px 0;color:#3d4b6e}
.thumbs{display:grid;grid-template-columns: repeat(4, 1fr); gap:10px}
.thumb{border:1px solid var(--line);border-radius:10px;overflow:hidden;background:#fff;cursor:grab}
.thumb img{display:block;width:100%;height:100%;object-fit:cover}
